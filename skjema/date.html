<!doctype html>
<html lang="no">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	
	<!-- Hentet fra https://htmlhead.dev/ -->
	<!-- Icon in the highest resolution we need it for -->
	<link href="/assets/digimon.png" rel="icon" sizes="192x192">
	<!-- Apple Touch Icon (reuse 192px icon.png) -->
	<link href="/assets/digimon.png" rel="apple-touch-icon">
	<!-- Safari Pinned Tab Icon -->
	<link color="black" href="/assets/digimon.svg" rel="mask-icon">
	
	<!-- Ressurser -->
	<link
		href="https://html.spec.whatwg.org/multipage/input.html#date-state-(type=date)"
		rel="help">
	
	<!-- Stiler -->
	<link href="../styles.css" rel="stylesheet">
	
	<!-- Tittel -->
	<title>Datofelt | Ole Jørgen Bakken</title>
</head>
<body>

<h1>Datofelt</h1>

<nav>
	<ul>
		<li><a href="/index.html">Tilbake til forsiden</a></li>
		<li><a href="/skjema.html">Tilbake til skjemaelementer</a></li>
	</ul>
</nav>

<main>
	<h2>Eksempel</h2>
	<label for="date-example">date</label>
	<input id="date-example" type="date" value="2025-04-20"/>
	<output for="date-example"></output>
	
	<h2 id="attributter-heading">Attributter</h2>
	<p>Lista er hentet fra <a
		href="https://html.spec.whatwg.org/multipage/input.html#date-state-(type=date)"
		rel="help">HTML-spesifikasjonen</a>.
	</p>
	<p role="note">Vær oppmerksom på at det er store forskjeller i
		implementasjon mellom nettlesere, og at ikke alle
		nettlesere støtter alle
		attributter.</p>
	
	<ul lang="en" aria-labelledby="attributter-heading">
		<li><a
			href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fe-autocomplete"
			rel="help">autocomplete</a>: The autocomplete content attribute can
			be used to hint to the user agent how
			to, or indeed whether to, provide such a feature. There are two ways
			this attribute is used. When wearing
			the autofill expectation mantle, the autocomplete attribute
			describes what input is expected from users. When
			wearing the autofill anchor mantle, the autocomplete attribute
			describes the meaning of the given value.
		</li>
		<li><a
			href="https://html.spec.whatwg.org/multipage/input.html#attr-input-list"
			rel="help">list</a>: The list attribute is used to identify an
			element that lists predefined options suggested to the user.
		</li>
		<li><a
			href="https://html.spec.whatwg.org/multipage/input.html#the-min-and-max-attributes"
			rel="help">min and max</a>: The min and max attributes indicate the
			allowed range of values for the element.
		</li>
		<li><a
			href="https://html.spec.whatwg.org/multipage/input.html#attr-input-readonly"
			rel="help">readonly</a>: The readonly attribute is a boolean
			attribute that controls whether or not the user can edit the form
			control. When specified, the element is not mutable.
		</li>
		<li><a
			href="https://html.spec.whatwg.org/multipage/input.html#attr-input-required"
			rel="help">required</a>: The required attribute is a boolean
			attribute. When specified, the element is required.
		</li>
		<li><a
			href="https://html.spec.whatwg.org/multipage/input.html#attr-input-step"
			rel="help">step</a>: The step attribute indicates the granularity
			that is expected (and required) of the value or values, by limiting
			the allowed values.
		</li>
	</ul>
	
	<form action="" method="get">
		<h3>Autocomplete</h3>
		<label for="date-autocomplete">Bursdag</label>
		<input autocomplete="bday" id="date-autocomplete" type="date" />
		<output for="date-autocomplete"></output>
		
		<h3>List</h3>
		<label for="date-list">Liste med valg</label>
		<input id="date-list" type="date" list="date-list-options" />
		<output for="date-list"></output>
		<!-- https://css-tricks.com/datalists-different-input-types/ -->
		<datalist id="date-list-options">
			<option label="Dagen dette dokumentet ble lagd">2025-08-28</option>
			<option label="Bursdagen min">1997-03-11</option>
			<option label="Månelandingen Apollo 11">1969-07-20</option>
			<option label="D-Dagen">1944-06-06</option>
		</datalist>
		
		<h3>Min og max</h3>
		<label for="date-min-max">Minimum og maksimumvalg</label>
		<input id="date-min-max" type="date" />
		<output for="date-min-max"></output>
		
		<h3>Required</h3>
		<label for="date-required">Påkrevd</label>
		<input id="date-required" type="date" required />
		<output for="date-required"></output>
		
		<h3>Readonly</h3>
		<label for="date-readonly">Kun avlesning</label>
		<input id="date-readonly" type="date" value="2025-04-20" readonly />
		<output for="date-readonly"></output>
		
		<h3>Steps</h3>
		<label for="date-steps">Satte steg</label>
		<input id="date-steps" type="date" step="7" />
		<output for="date-steps"></output>
		
		<input type="submit">
	</form>
	
	<output id="form-output"></output>

</main>
<script src="/utilities/date.js"></script>
<script src="/utilities/form.js"></script>
<script>
	let today = new Date();
	let aWeekAgo = new Date();
	let aWeekForward = new Date();
	
	aWeekAgo.setDate(today.getDate() - 7);
	aWeekForward.setDate(today.getDate() + 7);
	
	const inputs = Array.from(document.querySelectorAll("input"));
	const form = document.getElementsByTagName("form")[0];
	
	function setInputInteractions() {
		inputs.map((input) => {
			input.addEventListener("change",
				function () {
					const output = input.nextElementSibling;
					const inputValue = input.value;
					if (output) {
						output.innerText =
							`${new Date(inputValue).toLocaleDateString(navigator.language,
								{...defaultDateFormat, weekday: "long"})}`;
					}
				})
			
			input.addEventListener("load",
				function () {
					input.value = toInputFormat(new Date());
				})
		});
	}
	
	setInputInteractions();
	
	function setMinMax() {
		const input = document.getElementById("date-min-max");
		input.min = toInputFormat(aWeekAgo);
		input.max = toInputFormat(aWeekForward);
	}
	
	setMinMax();
	

		form.addEventListener("submit", function(ev) {
			ev.preventDefault();
			createDescriptionListFromInputs("form-output", inputs);
		})
</script>
</body>
</html>